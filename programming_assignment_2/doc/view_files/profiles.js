(function(){function e(e){return-1!=e.text().toLowerCase().indexOf("anonymous")}function t(){var t=[],i=$("span[data-user-id]");i.each(function(){e($(this))||t.push($(this).attr("data-user-id"))});var n="https://www.coursera.org";"spark.dev-coursera.org"==window.location.hostname&&(n="https://site.dev-coursera.org");var a=n+"/maestro/api/user/profiles?user-ids="+t.join(",");$.ajax({url:a,dataType:"jsonp",type:"get",success:s})}function i(e){return e.replace(/^http:\/\//i,"https://")}function s(t){$.each(t,function(t,s){var n=$('span[data-user-id="'+s.id+'"]');n.each(function(){var t=$(this);if(!e(t)){var n=$('<a href="https://www.coursera.org/user/i/'+s.external_id+'"></a>');n.append(s.display_name);var a=(t.attr("title")||"")+(t.find("span").attr("title")||"");if(a&&n.attr("title",a),t.attr("data-user-title")&&"Student"!=t.attr("data-user-title")){var o=$("<span>"+t.attr("data-user-title")+"</span>");o.css({padding:"1px 3px 2px","font-size":"10px","font-weight":"bold","text-transform":"uppercase",background:"#ebbc4c",margin:"0px 4px 0px 6px"}),n.append(o)}if(s.photo_24){var r=$('<img src="'+i(s.photo_24)+'">');r.css({width:"24px",height:"24px","vertical-align":"bottom","margin-right":"5px",border:"1px solid #CCC"}),n.prepend(r)}t.empty().append(n)}})})}$(document).ready(function(){t()})})();